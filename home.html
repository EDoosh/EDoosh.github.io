<!DOCTYPE HTML>
<html>
    <head>
        <title>DooshBot Discord Bot Documentation</title>
        <meta charset="utf-8">
        <link rel="shortcut icon" type="image/png" href="./src/favicon.png"/>

        <link rel = "stylesheet"
        type = "text/css"
        href = "src/dooshbot.css" />
        <script type="text/javascript" src="src/cmds.json"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script> 
            $(function(){
                $("#sidenav").load("src/sidenav.html");
                $("#footer").load("src/footer.html");
                $("#key").load("src/key.html");
            });
        </script> 
    </head>

    <body>
        <div id="sidenav"></div>

        <div class="main">
            <h1>DooshBot Discord Bot Documentation</h1>
            <h3>All your commands in one easy to read place.</h3>
            <p>This is a documentation of all the commands currently in the bot. This may not be perfectly up to date, but I try. If I miss something, or a command isn't explained very well, notify me and I'll add/change it.
                <br>Otherwise, feedback is greatly appreciated. This is my first time with web development in far too long.
                <br>At some point in the future I may add documentation on self hosting, and if possible, maybe even an online dashboard for the bot. Not sure about the last one.
                <br>Good luck with your server and thank you for choosing DooshBot on there!<br>- EDoosh</p>
        </div>

        <p class="line-bg"></p>

        <div class="main">
            <h3>
                <a href="./bot.html">Bot</a> ⠀| ⠀
                <a href="./fun.html">Fun</a> ⠀| ⠀
                <a href="./varperms.html">Music and Role Modify</a>
                <br>
                <a href="./mod.html">Moderation</a> ⠀| ⠀
                <a href="./admin.html">Administration</a> ⠀| ⠀
                <a href="./other.html">Other</a>
            </h3>
        </div>

        <p class="line-bg"></p>

        <div class="main">
            <script>
                // Initialise variables
                var allcmdcats = ['Bot', 'Fun', 'Music and Modify Role', 'Moderation', 'Administration', 'Other'];
                var allcmdcatcols = ['', '', '', '', '', ''];
                // Set allcmds to the cmds.json file we imported earlier
                var allcmds = JSON.parse(cmds);
                // For each category
                for(i=0; i < allcmds.length; i++) {
                    // rowData stores all the information about the rows.
                    var rowData = '';
                    // Create an h2 element, set the text to '(category name) Category Commands', and add it to the titles class
                    var headerCat = document.createElement(`H2`);
                    headerCat.className = "titlesTable";
                    headerCat.classList.add("circlecol");
                    headerCat.classList.add(`circle${i}`);
                    headerCat.innerHTML = `${allcmdcats[i]} Category Commands`;
                    // Create a table element, set some stuff as column headers, and set the class to main
                    var table = document.createElement(`TABLE`);
                    table.innerHTML = `<tr> <th>Command Name</th> <th>Aliases</th> <th>General Description</th> </tr>`;
                    table.className = "main";
                    // For every command in the category, add it's name, alias', and descriptions to rowData
                    for(const cmd of allcmds[i]) {
                        var rowData = rowData + `<tr> <td><button type="button" class="tblBtns">${cmd.name}</button></td> <td><em>${cmd.alias}</em></td> <td>${cmd.desc}</td></tr>`;
                    };
                    // Create a table body and add the rowData to it, then append that to the table element we created earlier
                    var tableBody = document.createElement('tbody');
                    tableBody.innerHTML = rowData;
                    table.appendChild(tableBody);
                    // Add the header category and the table to the body.
                    document.body.appendChild(headerCat);
                    document.body.appendChild(table);
                };
            </script>
        </div>

        <div id="key"></div>

        <div id="footer"></div>
    </body>
</html>